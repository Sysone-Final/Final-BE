# ... (jobs: deploy: runs-on: ubuntu-latest ë°”ë¡œ ì•„ë«ì¤„ë¶€í„°)
steps:
  # 1. GitHub ë ˆí¬ì§€í† ë¦¬ì˜ ì½”ë“œë¥¼ ê°€ìƒ í™˜ê²½ìœ¼ë¡œ ê°€ì ¸ì˜¤ê¸°
  - name: Checkout source code
    uses: actions/checkout@v3

  # 2. Google Cloud ì¸ì¦í•˜ê¸° (GitHub Secrets ì‚¬ìš©)
  - id: 'auth'
    uses: 'google-github-actions/auth@v1'
    with:
      credentials_json: '${{ secrets.GCP_SA_KEY }}'

  # 3. [í…ŒìŠ¤íŠ¸] ì¸ì¦ì´ ì„±ê³µí–ˆëŠ”ì§€ gcloud ëª…ë ¹ì–´ë¡œ í™•ì¸
  - name: ğŸ§ª [Debug] Check gcloud authentication
    run: |
      echo "--- Checking gcloud auth info ---"
      gcloud auth list
      
      echo "--- Checking project info using authenticated account ---"
      gcloud projects describe ${{ secrets.GCP_PROJECT_ID }}